流程步骤：
1.操作人员用吊车把原材料吊到输送线上，操作人员在PLC上录入原材料信息，然后按下按钮，输送线把原材料送到测长设备。
2.测长设备请求下料：ECS判断如果材料架没料，就直接放到材料架上，如果有料，就依次从前往后放。找到放货的地方后，保存从PLC获取的物料信息、生成小车调度任务，然后响应测长设备，下发小车执行。
3.ECS判断定长设备材料架是否有货，如果没货就把缓存架上的货放到材料架上，然后把材料架的货依次往前挪。
4.操作人员使用套料计算软件来计算下料，并且写入数据库。
5.定长切割设备请求定长：ECS判断是否有下料数据，如果没有就不处理，如果有就依据下料数据，给定长设备回复长度和响应信息，定长设备收到回复开始定长。
6.定长切割设备请求切割：ECS给定长切割设备回复响应信息，定长设备开始切割。
7.定长切割设备请求下料：ECS先判断定长系统输送架是否有货，有货就不处理。ECS判断判断材料是否生产完成，如果完成就再生成小车拉料到缓存架的任务。ECS判产品长度， 如果是小于800的短管就发翻料信号，如果是大于800的长管就发送前进信号。
8.定长系统输送架到达：ECS判断坡口机是否请求上料，如果请求上料，就去坡口机。如果没请求上料就看缓存工位，如果有货不能去，就不处理。如果能去，就生成小车调度任务，然后响应定长系统输送架。
9.ECS判断小车状态，如果可执行任务，就给小车发送任务。当小车到达打印点就停下等待，ECS监控小车到达打印点，就给打标机发送打标指令。当打标机反馈给ECS打标完成，ECS给小车确认信号，小车继续去目的地。
10.坡口机请求翻转：ECS派小车执行翻转
11.坡口机请求上料：ECS检查坡口区的缓存料架是否有成品，如果没有就不处理，如果有就生成小车任务，并且下发小车执行。
12.坡口机请求下料：ECS判断组队区送料架是否有货，如果有货就不处理。如果没货，就派小车去坡口机拉成品去组队区送料架。
13.组队区料架请求：ECS先判断去哪个组队区，如果是去另一个区，回复PLC后，输送线把货送到另一个区，然后再请求。如果是本区，ECS判断缓存区是否有料，有料就依次排在后面。缓存区没料，如果组队平台有请求上料，就放到组队平台，如果组队平台没请求上料，就放到缓存区的的第一排。找到放货地方后，生成AGV任务，并且下发给小车。
14.组队平台请求上料：ECS缓存区是否有料，没有就不处理，如果有就生成小车任务，然后下发给小车执行。
15.组队平台请求下料：ECS生成小车任务，然后下发小车执行。



设备模板：
1.测长机模板（先加“焊接站台模板”，后面看情况再加）  
2.定长机模板（先加“焊接站台模板”，后面看情况再加）  
3.坡口机模板（先加“焊接站台模板”，后面看情况再加） 
4.组队机模板（先加“焊接站台模板”，后面看情况再加）
5.输送线模板（输送线模板）


设备：一.测长   二.定长切割机   三.坡口机   四.打标机    五. 组队焊接机1    六.组队焊接机2   七.切割区AGV1个   八.坡口区AGV1个   九.组队区AGV1  十.组队区AGV2


工位：一.测长下线工位  二.定长切割工位   三. 坡口工位    四. 组队焊接1工位、组队焊接2工位


工位缓存：定长切割（录入12个缓存位），坡口机（录入4个），组队（录入8个）


工序：一.测长    二.定长切割  三.坡口    四. 组队



流转的时候，找到下个工位，然后先判断下个工位的缓存区是否有货，有货就往后排，无货就直接去工位。



